[gd_scene load_steps=11 format=2]

[ext_resource path="res://assets/sound/music/nitro_music.mp3" type="AudioStream" id=1]
[ext_resource path="res://game/camera/Camera.tscn" type="PackedScene" id=2]
[ext_resource path="res://game/arena/ScreenArea.gd" type="Script" id=3]
[ext_resource path="res://game/arena/Arena.gd" type="Script" id=4]
[ext_resource path="res://game/managers/RaceManager.gd" type="Script" id=5]
[ext_resource path="res://game/managers/GameManager.gd" type="Script" id=6]
[ext_resource path="res://assets/resources/arena_environment.tres" type="Environment" id=7]

[sub_resource type="GDScript" id=771]
script/source = "extends Node2D


func _ready() -> void:
	
#	Ref.effects_creation_parent = self
	pass
"

[sub_resource type="RectangleShape2D" id=772]
extents = Vector2( 319, 179 )

[sub_resource type="StyleBoxFlat" id=773]
bg_color = Color( 0.6, 0.6, 0.6, 0 )
border_width_left = 2
border_width_top = 2
border_width_right = 2
border_width_bottom = 2

[node name="Arena" type="Node2D"]
script = ExtResource( 4 )
__meta__ = {
"_edit_horizontal_guides_": [ -64.0 ]
}

[node name="GameManager" type="Node" parent="."]
script = ExtResource( 6 )

[node name="RaceManager" type="Node" parent="."]
script = ExtResource( 5 )

[node name="LevelPosition" type="Position2D" parent="."]

[node name="Effects" type="Node2D" parent="."]
z_index = 1
script = SubResource( 771 )

[node name="NavigationPath" type="Line2D" parent="."]
z_index = 5
width = 2.0
default_color = Color( 1, 0.752941, 0.0156863, 0.392157 )

[node name="ScreenArea" type="Area2D" parent="."]
visible = false
position = Vector2( 320, 184 )
z_index = 5
script = ExtResource( 3 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="ScreenArea"]
position = Vector2( 0, -5 )
shape = SubResource( 772 )

[node name="Panel" type="Panel" parent="ScreenArea"]
visible = false
anchor_right = 1.0
anchor_bottom = 1.0
margin_left = -257.0
margin_top = -115.0
margin_right = 257.0
margin_bottom = 115.0
custom_styles/panel = SubResource( 773 )

[node name="Camera" parent="." instance=ExtResource( 2 )]
z_index = 0
current = true

[node name="ArenaEnvironment" type="WorldEnvironment" parent="."]
environment = ExtResource( 7 )

[node name="Sounds" type="Node" parent="."]

[node name="NitroMusic" type="AudioStreamPlayer" parent="Sounds"]
stream = ExtResource( 1 )
bus = "GameMusic"

[connection signal="body_exited" from="ScreenArea" to="GameManager" method="_on_ScreenArea_body_exited"]
